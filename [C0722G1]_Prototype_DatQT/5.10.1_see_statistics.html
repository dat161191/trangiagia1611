<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css"/>
    <link rel="stylesheet" href="main.js"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
            crossorigin="anonymous"></script>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
    <title>Title</title>
    <style>
        *{font-family: "Times New Roman",serif}
    </style>
    <script src="main.js"></script>
</head>
<body>
<div class="container-fluid">
    <div class="mt-3 mb-2"><h2 style="color: red;text-align: center;font-family: 'Palatino Linotype',serif">TH·ªêNG K√ä</h2></div>
    <div class="row mt-1">
        <div class="col-8 md-8 xs-8">
            <table class="table table-hover table-light">
                <thead>
                <tr>
                    <th colspan="11">
                        <div class="row">
                            <div class="col-3 md-3 xs-3">
                                <h3>B√†i ƒêƒÉng</h3>
                            </div>
                            <div class="col-5 md-3">
                                <form class="d-flex justify-content-center">
                                    <select #month style="width: 100%" class="form-select me-1">
                                        <option value="" selected>Th√°ng</option>
                                        <option value="" >Th√°ng1</option>
                                        <option value="" >Th√°ng2</option>
                                        <option value="" >Th√°ng3</option>
                                        <option value="" >Th√°ng4</option>
                                        <option value="" >Th√°ng5</option>
                                        <option value="" >Th√°ng6</option>
                                        <option value="" >Th√°ng7</option>
                                        <option value="" >Th√°ng8</option>
                                        <option value="" >Th√°ng9</option>
                                        <option value="" >Th√°ng10</option>
                                        <option value="" >Th√°ng11</option>
                                        <option value="" >Th√°ng12</option>
<!--                                        <option *ngFor="let month of monthList" [ngValue]="month">{{month}}</option>-->

                                    </select>
                                    <select #year style="width: 100%" class="form-select  me-1">
                                        <option value="" selected >NƒÉm</option>
                                        <option value=""  >NƒÉm 2022</option>
                                        <option value=""  >NƒÉm 2023</option>
<!--                                        <option *ngFor="let year of yearList" [ngValue]="year">{{year}}</option>-->
                                    </select>
                                    <button class="btn btn-primary me-1"
                                            (click)="onSearch(month.value,year.value)"
                                            type="button"><i class="fa-brands fa-searchengin"></i></button>
                                </form>
                            </div>
                        </div>
                    </th>
                </tr>
                <tr>
                    <th hidden>ID</th>
                    <th>Ng√†y</th>
                    <th>V·ªã tr√≠</th>
                    <th>Gi√° C·∫£(*1000 VNƒê)</th>
                    <th>T√¨nh tr·∫°ng</th>
                    <th>L·ª£i nhu·∫≠n(*1000 VNƒê</th>
                </tr>
                </thead>

                <tbody>
                <tr>
                    <td>01/01/2022</td>
                    <td>L√¥ 100A,L√™ H·ªØu Tr√°c,Q.Ng≈© H√†nh S∆°n</td>
                    <td>3.000.000</td>
                    <td>Th√†nh C√¥ng</td>
                    <td>300.000</td>
                <tr>
                <tr>
                    <td>07/07/2021</td>
                    <td>K93/15, Tr·∫ßn Xu√¢n L√™, Q.Thanh Kh√™</td>
                    <td>5.500.000</td>
                    <td>Th√†nh C√¥ng</td>
                    <td>550.000</td>
                <tr>
                <tr>
                    <td>07/01/2022</td>
                    <td>CƒÉn h·ªô 501,Chung C∆∞ Monarchi</td>
                    <td>5.000.000</td>
                    <td>Th·∫•t B·∫°i</td>
                    <td>0</td>
                <tr>
                <tr>
                    <td>01/01/2021</td>
                    <td>S·ªë 777,Nguy·ªÖn H·ªØu Th·ªç,Q.H·∫£i Ch√¢u</td>
                    <td>4.350.000</td>
                    <td>Th√†nh C√¥ng</td>
                    <td>435.000</td>
                <tr>
                <tr>
                    <td>01/01/2022</td>
                    <td>L√¥ 100A,L√™ H·ªØu Tr√°c,Q.Ng≈© H√†nh S∆°n</td>
                    <td>3.000.000</td>
                    <td>Th√†nh C√¥ng</td>
                    <td>300.000</td>
                <tr>
                <tr>
                    <td>09/08/2022</td>
                    <td>L√¥ 20B,L√™ L·ª£i,Q.Ng≈© H√†nh S∆°n</td>
                    <td>2.500.000</td>
                    <td>Th·∫•t b·∫°i</td>
                    <td>0</td>
                <tr>
                <tr>
                    <td>10/08/2021</td>
                    <td>S·ªë 120B,L√™ Lai,Q.Ng≈© H√†nh S∆°n</td>
                    <td>2.500.000</td>
                    <td>Th·∫•t b·∫°i</td>
                    <td>0</td>
                <tr>
                <tr>
                    <td>09/03/2022</td>
                    <td>L√¥ 101,Nguy·ªÖn Du,Q.Li√™n chi·ªÉu</td>
                    <td>2.500.000</td>
                    <td>Th√†nh c√¥ng</td>
                    <td>250.000</td>
                <tr>
                    <!--                <tr class="text-center">-->
                    <!--                    <td colspan="5" *ngIf="statisticalList.length==0">No Result!!!</td>-->
                    <!--                </tr>-->
                </tbody>
            </table>

        </div>
        <div class="col-4 md-4 xs-4">
            <h5>S·ªë b√†i ƒëƒÉng th√†nh c√¥ng: 5/8</h5>
            <h6>T·ªïng thu nh·∫≠p: 50.000.000 (*000)VND</h6>
            <div class="wrapper">
                <h3>üìä Bi·ªÉu ƒë·ªì th·ªëng k√™ b√†i ƒëƒÉng</h3>
                <div class="charts">
                    <div class="chart">
                        <canvas data-type="line" data-color-datalabels="#2e2a2a"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
<script>
    // Chart.register(ChartDataLabels);
    const MONTHS = [
        "Th√°ng 1",
        "Th√°ng 2",
        "Th√°ng 3",
        "Th√°ng 4",
        "Th√°ng 6",
        "Th√°ng 6",
        "Th√°ng 7",
        "Th√°ng 8",
        "Th√°ng 9",
        "Th√°ng 10",
        "Th√°ng 11",
        "Th√°ng 12",
    ];

    const labels = MONTHS.slice(0, 12);

    const allCanvas = document.querySelectorAll("canvas");

    allCanvas.forEach((el) => {
        const {type, colorDatalabels} = el.dataset;

        const data = {
            labels: labels,
            datasets: [
                {
                    label: "Bi·ªÉu ƒë·ªì th·ªëng k√™ b√†i ƒëƒÉng nƒÉm 2021",
                    backgroundColor: "rgb(252, 7, 3)",
                    borderColor: "rgb(252, 7, 3)",
                    data: [15, 20, 35, 36, 25, 50, 70, 60, 63, 74, 85, 110],
                    tension: 0.2,
                }, {
                    label: "Bi·ªÉu ƒë·ªì th·ªëng k√™ b√†i ƒëƒÉng nƒÉm 2022",
                    backgroundColor: "rgb(3,31,111)",
                    borderColor: "rgb(3,31,111)",
                    data: [5, 25, 36, 18, 49, 70, 59, 66, 58, 84, 82, 101],
                    tension: 0.2,
                }
            ],
        };

        const config = {
            type: el.dataset.type,
            data: data,
            options: {
                aspectRatio: 5/4,
                layout: {
                    padding: 2,
                },
                plugins: {
                    tooltip: {
                        titleFont: {
                            size: 25,
                        },
                        bodyFont: {
                            size: 20,
                        },
                        callbacks: {
                            label: (context) => `T·ªïng: ${context.formattedValue} b√†i ƒëƒÉng`,
                        },
                    },
                    datalabels: {
                        color: colorDatalabels,
                        font: {size: 20},
                        formatter: function (value, context) {
                            return value;
                        },
                        display: function (context) {
                            if (type === "line")
                                return (
                                    context.dataIndex > 0 && context.dataIndex < labels.length - 1
                                );

                            return true;
                        },
                    },
                },
            },
        };

        new Chart(el, config);
    });

</script>
</html>
